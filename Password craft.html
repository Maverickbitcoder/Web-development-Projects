<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="PassCraft - Human-Friendly Password Pattern Builder with 3D effects">
    <title>PassCraft - Password Pattern Builder</title>
    <style>
        /* Base Styles & Reset */
        :root {
            --primary: #6C63FF;
            --primary-light: #8883ff;
            --primary-dark: #5048e5;
            --secondary: #4ECDC4;
            --secondary-light: #6FD9D2;
            --secondary-dark: #3AA59D;
            --accent: #FF6B6B;
            --accent-light: #FF8989;
            --accent-dark: #E05252;
            --background: #2E2E3A;
            --background-light: #3B3B4B;
            --background-dark: #222230;
            --surface: #3B3B4B;
            --text: #F7F7FF;
            --text-secondary: rgba(247, 247, 255, 0.7);
            --divider: rgba(247, 247, 255, 0.1);
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.15);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.2);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.3);
            --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            --font-mono: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;
            --spacing-xxl: 48px;
            --z-backdrop: 40;
            --z-overlay: 50;
            --z-modal: 60;
            --z-toast: 70;
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html, body {
            height: 100%;
            overflow-x: hidden;
        }

        body {
            font-family: var(--font-sans);
            background-color: var(--background);
            color: var(--text);
            line-height: 1.5;
            letter-spacing: 0.01em;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        button, input, select, textarea {
            font: inherit;
            color: inherit;
        }

        button {
            background: none;
            border: none;
            cursor: pointer;
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 600;
            line-height: 1.2;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: var(--spacing-lg);
        }

        h2 {
            font-size: 2rem;
            margin-bottom: var(--spacing-md);
        }

        h3 {
            font-size: 1.25rem;
            margin-bottom: var(--spacing-md);
        }

        /* Layout & Containers */
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
        }

        .app-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }

        .app-header {
            text-align: center;
            padding: var(--spacing-xl) 0;
        }

        .app-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
        }

        .app-main {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: var(--spacing-xl) 0;
        }

        .app-footer {
            text-align: center;
            padding: var(--spacing-lg) 0;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .card {
            background-color: var(--surface);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--divider);
            overflow: hidden;
            width: 100%;
            max-width: 800px;
        }

        .card-header {
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--divider);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .card-body {
            padding: var(--spacing-xl);
        }

        .card-footer {
            padding: var(--spacing-lg);
            border-top: 1px solid var(--divider);
            text-align: right;
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--divider);
            margin-bottom: var(--spacing-lg);
        }

        .tab {
            padding: var(--spacing-md) var(--spacing-lg);
            color: var(--text-secondary);
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
            font-weight: 500;
        }

        .tab:hover {
            color: var(--text);
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-content {
            display: none;
            animation: fade-in 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        /* Grid & Pattern */
        .grid-container {
            position: relative;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: var(--spacing-md);
            width: 100%;
            max-width: 300px;
            aspect-ratio: 1/1;
            margin: 0 auto;
        }

        .grid-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
        }

        .grid-item {
            background-color: var(--background-light);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 600;
            aspect-ratio: 1/1;
            position: relative;
            cursor: pointer;
            user-select: none;
            transition: all 0.2s ease-out;
            box-shadow: var(--shadow-sm);
            border: 2px solid transparent;
        }

        .grid-item:hover {
            box-shadow: var(--shadow-md);
            z-index: 10;
            transform: scale(1.05);
        }

        .grid-item.selected {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px var(--primary), var(--shadow-md);
            z-index: 5;
        }

        .grid-item.primary {
            background-color: var(--primary);
            color: white;
        }

        .grid-item.secondary {
            background-color: var(--secondary);
            color: white;
        }

        .grid-item.accent {
            background-color: var(--accent);
            color: white;
        }

        .path-line {
            position: absolute;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 2px;
            transform-origin: left center;
            pointer-events: none;
            z-index: 1;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: var(--spacing-lg);
        }

        .form-label {
            display: block;
            margin-bottom: var(--spacing-sm);
            font-weight: 500;
        }

        .form-control {
            display: block;
            width: 100%;
            padding: var(--spacing-md);
            background-color: var(--background-dark);
            border: 1px solid var(--divider);
            border-radius: var(--radius-md);
            color: var(--text);
            transition: all 0.2s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(108, 99, 255, 0.25);
        }

        .form-row {
            display: flex;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        .form-column {
            flex: 1;
        }

        /* Enhanced Color Picker */
        .color-picker-container {
            position: relative;
            width: 100%;
            border-radius: var(--radius-md);
            overflow: hidden;
            margin-bottom: var(--spacing-md);
        }

        .color-picker-preview {
            width: 100%;
            height: 60px;
            border-radius: var(--radius-md);
            margin-bottom: var(--spacing-md);
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .color-picker-wrapper {
            position: relative;
        }

        .color-picker {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            width: 100%;
            height: 40px;
            padding: 0;
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            background: transparent;
        }

        .color-picker::-webkit-color-swatch-wrapper {
            padding: 0;
        }

        .color-picker::-webkit-color-swatch {
            border: none;
            border-radius: var(--radius-md);
        }

        .color-picker::-moz-color-swatch {
            border: none;
            border-radius: var(--radius-md);
        }

        .color-palette {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: var(--spacing-sm);
            margin-top: var(--spacing-md);
        }

        .color-palette-item {
            width: 100%;
            aspect-ratio: 1/1;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            border: 2px solid transparent;
        }

        .color-palette-item:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-sm);
        }

        .color-palette-item.selected {
            border-color: var(--text);
            box-shadow: 0 0 0 2px var(--text);
        }

        .color-hex-input {
            margin-top: var(--spacing-md);
            position: relative;
            width: 100%;
        }

        .color-hex-field {
            width: 100%;
            padding: var(--spacing-sm) var(--spacing-md);
            background-color: var(--background-dark);
            border: 1px solid var(--divider);
            border-radius: var(--radius-md);
            color: var(--text);
            font-family: var(--font-mono);
            transition: all 0.2s ease;
        }

        .color-hex-field:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(108, 99, 255, 0.25);
        }

        .color-slider-container {
            margin-top: var(--spacing-lg);
        }

        .color-slider-row {
            display: flex;
            align-items: center;
            margin-bottom: var(--spacing-sm);
        }

        .color-slider-label {
            width: 15px;
            text-align: center;
            margin-right: var(--spacing-sm);
            font-weight: bold;
        }

        .color-slider {
            flex-grow: 1;
            -webkit-appearance: none;
            height: 8px;
            border-radius: 4px;
            outline: none;
        }

        .color-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            border: 2px solid var(--background-dark);
            box-shadow: var(--shadow-sm);
        }

        .color-slider-r {
            background: linear-gradient(to right, #000, #f00);
        }

        .color-slider-g {
            background: linear-gradient(to right, #000, #0f0);
        }

        .color-slider-b {
            background: linear-gradient(to right, #000, #00f);
        }

        .color-slider-value {
            width: 40px;
            text-align: right;
            margin-left: var(--spacing-sm);
            font-family: var(--font-mono);
        }

        .range-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: var(--background-dark);
            outline: none;
            transition: all 0.2s;
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: var(--shadow-sm);
        }

        .shape-options {
            display: flex;
            gap: var(--spacing-md);
            flex-wrap: wrap;
        }

        .shape-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-xs);
            padding: var(--spacing-sm);
            border-radius: var(--radius-md);
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .shape-option:hover {
            background-color: var(--background-dark);
        }

        .shape-option.selected {
            border-color: var(--primary);
            background-color: rgba(108, 99, 255, 0.1);
        }

        .shape-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary);
        }

        .shape-square {
            width: 40px;
            height: 40px;
            background-color: var(--secondary);
        }

        .shape-triangle {
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-bottom: 35px solid var(--accent);
        }

        .shape-diamond {
            width: 40px;
            height: 40px;
            background-color: var(--text);
            transform: rotate(45deg);
        }

        .shape-heart {
            position: relative;
            width: 40px;
            height: 35px;
        }

        .shape-heart:before,
        .shape-heart:after {
            content: "";
            position: absolute;
            width: 20px;
            height: 30px;
            border-radius: 50px 50px 0 0;
            background: var(--accent);
        }

        .shape-heart:before {
            left: 20px;
            transform: rotate(-45deg);
            transform-origin: 0 100%;
        }

        .shape-heart:after {
            left: 0;
            transform: rotate(45deg);
            transform-origin: 100% 100%;
        }

        .shape-star {
            position: relative;
            display: block;
            color: var(--primary-light);
            width: 0px;
            height: 0px;
            border-right: 10px solid transparent;
            border-bottom: 7px solid var(--primary-light);
            border-left: 10px solid transparent;
            transform: rotate(35deg);
        }
        .shape-star:before {
            border-bottom: 8px solid var(--primary-light);
            border-left: 3px solid transparent;
            border-right: 3px solid transparent;
            position: absolute;
            height: 0;
            width: 0;
            top: -4.5px;
            left: -6.5px;
            display: block;
            content: '';
            transform: rotate(-35deg);
        }
        .shape-star:after {
            position: absolute;
            display: block;
            color: var(--primary-light);
            top: 0.3px;
            left: -10.5px;
            width: 0px;
            height: 0px;
            border-right: 10px solid transparent;
            border-bottom: 7px solid var(--primary-light);
            border-left: 10px solid transparent;
            transform: rotate(-70deg);
            content: '';
        }

        .rhythm-container {
            display: flex;
            align-items: flex-end;
            gap: 6px;
            height: 50px;
            margin-top: var(--spacing-md);
        }

        .rhythm-bar {
            flex: 1;
            background: linear-gradient(to top, var(--primary), var(--secondary));
            border-radius: var(--radius-sm);
            transition: height 0.3s ease;
            min-width: 6px;
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-md) var(--spacing-lg);
            font-weight: 500;
            border-radius: var(--radius-md);
            transition: all 0.2s ease;
            gap: var(--spacing-sm);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
            border: none;
            box-shadow: var(--shadow-sm);
        }

        .btn-primary:hover {
            background-color: var(--primary-light);
            box-shadow: var(--shadow-md);
        }

        .btn-primary:active {
            background-color: var(--primary-dark);
        }

        .btn-secondary {
            background-color: var(--background-light);
            color: var(--text);
            border: 1px solid var(--divider);
        }

        .btn-secondary:hover {
            background-color: var(--background-dark);
        }

        .btn-icon {
            width: 40px;
            height: 40px;
            padding: 0;
            border-radius: 50%;
        }

        /* Password Display */
        .password-container {
            position: relative;
            padding: var(--spacing-lg);
            background: linear-gradient(-45deg, var(--primary), var(--secondary), var(--accent), var(--primary));
            background-size: 400% 400%;
            background-position: 0% 50%;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            margin-bottom: var(--spacing-xl);
            overflow: hidden;
        }

        .password-display {
            padding: var(--spacing-lg);
            background-color: rgba(46, 46, 58, 0.9);
            border-radius: var(--radius-md);
            font-family: var(--font-mono);
            font-size: 1.2rem;
            letter-spacing: 1px;
            overflow: auto;
            max-width: 100%;
            text-align: center;
            position: relative;
            transition: transform 0.3s ease;
            box-shadow: var(--shadow-sm);
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .password-strength {
            margin-top: var(--spacing-lg);
        }

        .strength-meter {
            height: 8px;
            background-color: var(--background-dark);
            border-radius: var(--radius-sm);
            overflow: hidden;
            margin-top: var(--spacing-sm);
        }

        .strength-meter-fill {
            height: 100%;
            width: 0%;
            transition: width 0.5s ease, background-color 0.5s ease;
        }

        .strength-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-top: var(--spacing-xs);
        }

        /* Copy Button Animation */
        .copy-tooltip {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--background-dark);
            color: var(--text);
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--radius-sm);
            font-size: 0.75rem;
            opacity: 0;
            transition: opacity 0.2s ease, transform 0.2s ease;
            pointer-events: none;
        }

        .copy-tooltip.show {
            opacity: 1;
            transform: translateX(-50%) translateY(-5px);
        }

        /* Features Section */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-lg);
            margin: var(--spacing-xl) 0;
        }

        .feature-card {
            padding: var(--spacing-lg);
            background-color: var(--background-light);
            border-radius: var(--radius-lg);
            border: 1px solid var(--divider);
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            box-shadow: var(--shadow-md);
            border-color: var(--primary);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: var(--spacing-md);
            color: var(--primary);
        }

        /* Utilities */
        .panel {
            position: relative;
            background-color: var(--background-light);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            border: 1px solid var(--divider);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: var(--shadow-sm);
            margin-bottom: var(--spacing-lg);
        }

        .panel:hover {
            box-shadow: var(--shadow-md);
        }

        /* Help Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: var(--background-dark);
            color: var(--text);
            text-align: center;
            border-radius: var(--radius-sm);
            padding: var(--spacing-sm);
            position: absolute;
            z-index: 100;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.75rem;
            box-shadow: var(--shadow-md);
            pointer-events: none;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        /* Notifications */
        .notifications {
            position: fixed;
            top: var(--spacing-lg);
            right: var(--spacing-lg);
            z-index: var(--z-toast);
        }

        .notification {
            padding: var(--spacing-md) var(--spacing-lg);
            background-color: var(--surface);
            border-left: 4px solid var(--primary);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-md);
            margin-bottom: var(--spacing-md);
            transform: translateX(120%);
            animation: slide-in 0.3s forwards, slide-out 0.3s 3s forwards;
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .notification-icon {
            flex-shrink: 0;
            color: var(--primary);
        }

        .notification-content {
            flex-grow: 1;
        }

        /* Utility Classes */
        .text-primary {
            color: var(--primary);
        }

        .text-secondary {
            color: var(--secondary);
        }

        .text-accent {
            color: var(--accent);
        }

        .text-center {
            text-align: center;
        }

        .mb-sm {
            margin-bottom: var(--spacing-sm);
        }

        .mb-md {
            margin-bottom: var(--spacing-md);
        }

        .mb-lg {
            margin-bottom: var(--spacing-lg);
        }

        .mt-sm {
            margin-top: var(--spacing-sm);
        }

        .mt-md {
            margin-top: var(--spacing-md);
        }

        .mt-lg {
            margin-top: var(--spacing-lg);
        }

        .p-sm {
            padding: var(--spacing-sm);
        }

        .p-md {
            padding: var(--spacing-md);
        }

        .p-lg {
            padding: var(--spacing-lg);
        }

        .hidden {
            display: none !important;
        }

        .flex {
            display: flex;
        }

        .flex-col {
            flex-direction: column;
        }

        .items-center {
            align-items: center;
        }

        .justify-center {
            justify-content: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .gap-sm {
            gap: var(--spacing-sm);
        }

        .gap-md {
            gap: var(--spacing-md);
        }

        .w-full {
            width: 100%;
        }

        .logo-icon {
            display: inline-block;
        }

        /* Minimal Animations */
        @keyframes fade-in {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        @keyframes slide-in {
            from { transform: translateX(120%); }
            to { transform: translateX(0); }
        }

        @keyframes slide-out {
            from { transform: translateX(0); }
            to { transform: translateX(120%); }
        }

        /* Focus Styling */
        :focus {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        :focus:not(:focus-visible) {
            outline: none;
        }

        :focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .app-header {
                padding: var(--spacing-lg) 0;
            }

            .app-logo {
                font-size: 2rem;
            }

            .app-main {
                padding: var(--spacing-md) 0;
            }

            .card {
                border-radius: var(--radius-md);
            }

            .tabs {
                gap: var(--spacing-sm);
            }

            .tab {
                padding: var(--spacing-sm) var(--spacing-md);
                font-size: 0.9rem;
            }

            .form-row {
                flex-direction: column;
            }

            .grid-container {
                gap: var(--spacing-sm);
            }

            .grid-item {
                font-size: 1.2rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 var(--spacing-md);
            }

            .card-body {
                padding: var(--spacing-md);
            }

            .shape-options {
                justify-content: center;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Notifications Container -->
    <div id="notifications" class="notifications"></div>

    <!-- Main Application Container -->
    <div class="app-container">
        <!-- App Header -->
        <header class="app-header">
            <div class="container">
                <div class="app-logo">
                    <span class="text-primary">Pass</span><span class="text-secondary">Craft</span>
                    <svg class="logo-icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2" class="text-accent"></rect>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4" class="text-accent"></path>
                    </svg>
                </div>
                <p class="text-secondary">Human-Friendly Password Pattern Builder</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main">
            <div class="container">
                <!-- Main Card -->
                <div class="card">
                    <!-- Tabs -->
                    <div class="tabs">
                        <button class="tab active" data-tab="create">Create Pattern</button>
                        <button class="tab" data-tab="preview">Preview Password</button>
                        <button class="tab" data-tab="about">How It Works</button>
                    </div>

                    <!-- Tab Content -->
                    <div class="card-body">
                        <!-- Create Pattern Tab -->
                        <div id="create-tab" class="tab-content active">
                            <div class="form-row">
                                <!-- Personal Cues -->
                                <div class="form-column">
                                    <div class="panel mb-lg">
                                        <h3>Your Color</h3>
                                        <p class="text-secondary mb-md">Choose your favorite color</p>

                                        <!-- Enhanced Color Picker UI -->
                                        <div class="color-picker-preview" id="color-preview" style="background-color: #6C63FF;"></div>

                                        <div class="color-picker-wrapper">
                                            <input type="color" id="standard-color-picker" class="color-picker" value="#6C63FF">
                                        </div>

                                        <!-- Color Palette -->
                                        <div class="color-palette" id="color-palette">
                                            <div class="color-palette-item selected" data-color="#6C63FF" style="background-color: #6C63FF;"></div>
                                            <div class="color-palette-item" data-color="#4ECDC4" style="background-color: #4ECDC4;"></div>
                                            <div class="color-palette-item" data-color="#FF6B6B" style="background-color: #FF6B6B;"></div>
                                            <div class="color-palette-item" data-color="#FFE66D" style="background-color: #FFE66D;"></div>
                                            <div class="color-palette-item" data-color="#8A4FFF" style="background-color: #8A4FFF;"></div>
                                            <div class="color-palette-item" data-color="#FF9A8B" style="background-color: #FF9A8B;"></div>
                                            <div class="color-palette-item" data-color="#A4F9C8" style="background-color: #A4F9C8;"></div>
                                            <div class="color-palette-item" data-color="#72DDF7" style="background-color: #72DDF7;"></div>
                                            <div class="color-palette-item" data-color="#FFA69E" style="background-color: #FFA69E;"></div>
                                            <div class="color-palette-item" data-color="#9D96F5" style="background-color: #9D96F5;"></div>
                                        </div>

                                        <!-- Hex Input -->
                                        <div class="color-hex-input">
                                            <input type="text" id="color-hex-field" class="color-hex-field" value="#6C63FF" placeholder="#000000">
                                        </div>

                                        <!-- RGB Sliders -->
                                        <div class="color-slider-container">
                                            <div class="color-slider-row">
                                                <div class="color-slider-label" style="color: #FF6B6B;">R</div>
                                                <input type="range" id="color-slider-r" class="color-slider color-slider-r" min="0" max="255" value="108">
                                                <div id="color-value-r" class="color-slider-value">108</div>
                                            </div>
                                            <div class="color-slider-row">
                                                <div class="color-slider-label" style="color: #A4F9C8;">G</div>
                                                <input type="range" id="color-slider-g" class="color-slider color-slider-g" min="0" max="255" value="99">
                                                <div id="color-value-g" class="color-slider-value">99</div>
                                            </div>
                                            <div class="color-slider-row">
                                                <div class="color-slider-label" style="color: #72DDF7;">B</div>
                                                <input type="range" id="color-slider-b" class="color-slider color-slider-b" min="0" max="255" value="255">
                                                <div id="color-value-b" class="color-slider-value">255</div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="panel mb-lg">
                                        <h3>Your Shape</h3>
                                        <p class="text-secondary mb-md">Choose your favorite shape</p>

                                        <div class="shape-options">
                                            <div class="shape-option selected" data-shape="circle">
                                                <div class="shape-circle"></div>
                                                <span>Circle</span>
                                            </div>
                                            <div class="shape-option" data-shape="square">
                                                <div class="shape-square"></div>
                                                <span>Square</span>
                                            </div>
                                            <div class="shape-option" data-shape="triangle">
                                                <div class="shape-triangle"></div>
                                                <span>Triangle</span>
                                            </div>
                                            <div class="shape-option" data-shape="diamond">
                                                <div class="shape-diamond"></div>
                                                <span>Diamond</span>
                                            </div>
                                            <div class="shape-option" data-shape="heart">
                                                <div class="shape-heart"></div>
                                                <span>Heart</span>
                                            </div>
                                            <div class="shape-option" data-shape="star">
                                                <div class="shape-star"></div>
                                                <span>Star</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="panel">
                                        <h3>Your Rhythm</h3>
                                        <p class="text-secondary mb-md">Choose your rhythm intensity</p>

                                        <input type="range" id="rhythm-slider" class="range-slider mb-md" min="1" max="5" value="3">

                                        <div id="rhythm-visual" class="rhythm-container">
                                            <div class="rhythm-bar" style="height: 20px;"></div>
                                            <div class="rhythm-bar" style="height: 28px;"></div>
                                            <div class="rhythm-bar" style="height: 16px;"></div>
                                            <div class="rhythm-bar" style="height: 32px;"></div>
                                            <div class="rhythm-bar" style="height: 24px;"></div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Pattern Grid -->
                                <div class="form-column">
                                    <div class="panel">
                                        <h3>Create Your Pattern</h3>
                                        <p class="text-secondary mb-md">Connect at least 4 points to create a secure pattern</p>

                                        <!-- Pattern Info Tooltip -->
                                        <div class="tooltip mb-md">
                                            <button class="btn btn-secondary btn-icon">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <circle cx="12" cy="12" r="10"></circle>
                                                    <line x1="12" y1="16" x2="12" y2="12"></line>
                                                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                                </svg>
                                            </button>
                                            <span class="tooltip-text">
                                                Click and drag between cells to create your unique pattern. The pattern will be used to generate your password.
                                            </span>
                                        </div>

                                        <div class="grid-container" id="pattern-grid">
                                            <div class="grid-overlay" id="grid-overlay"></div>
                                            <!-- Grid items will be generated by JavaScript -->
                                        </div>

                                        <div class="mt-md text-center">
                                            <button id="reset-pattern" class="btn btn-secondary">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <path d="M21 12a9 9 0 0 1-9 9"></path>
                                                    <path d="M3 12a9 9 0 0 1 9-9"></path>
                                                    <path d="M21 19l-3-3 3-3"></path>
                                                    <path d="M3 5l3 3-3 3"></path>
                                                </svg>
                                                Reset Pattern
                                            </button>
                                        </div>
                                    </div>

                                    <div class="mt-lg">
                                        <button id="generate-password" class="btn btn-primary w-full">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M12 2v8"></path>
                                                <path d="m4.93 10.93 1.41 1.41"></path>
                                                <path d="M2 18h2"></path>
                                                <path d="M20 18h2"></path>
                                                <path d="m19.07 10.93-1.41 1.41"></path>
                                                <path d="M22 22H2"></path>
                                                <path d="m16 6-4 4-4-4"></path>
                                                <path d="M16 18a4 4 0 0 0-8 0"></path>
                                            </svg>
                                            Generate Secure Password
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Preview Password Tab -->
                        <div id="preview-tab" class="tab-content">
                            <div class="password-container">
                                <div class="password-display" id="password-display">
                                    <span id="password-text">Your generated password will appear here</span>
                                    <div class="copy-tooltip" id="copy-tooltip">Copied!</div>
                                </div>
                                <button id="copy-password" class="btn btn-primary mt-md">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                    Copy to Clipboard
                                </button>
                            </div>

                            <div class="password-strength panel">
                                <div class="flex justify-between items-center mb-sm">
                                    <h3>Password Strength</h3>
                                    <span id="strength-text">Weak</span>
                                </div>
                                <div class="strength-meter">
                                    <div class="strength-meter-fill" id="strength-meter-fill" style="width: 0%; background-color: var(--accent);"></div>
                                </div>
                                <div class="strength-label">
                                    <span>Weak</span>
                                    <span>Medium</span>
                                    <span>Strong</span>
                                </div>
                            </div>

                            <div class="panel mt-lg">
                                <h3>Password Analysis</h3>
                                <div class="mt-md" id="password-analysis">
                                    <p>Generate a password to see its analysis.</p>
                                </div>
                            </div>

                            <div class="text-center mt-lg">
                                <button id="regenerate-password" class="btn btn-primary">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
                                        <path d="M3 3v5h5"></path>
                                    </svg>
                                    Generate New Password
                                </button>
                            </div>
                        </div>

                        <!-- About Tab -->
                        <div id="about-tab" class="tab-content">
                            <div class="panel">
                                <h3>About PassCraft</h3>
                                <p class="mb-md">PassCraft is a human-friendly password pattern builder that helps you create secure and memorable passwords based on your personal cues and visual patterns.</p>

                                <h4 class="mb-sm">How It Works</h4>
                                <ol class="mb-lg" style="padding-left: 20px;">
                                    <li class="mb-sm">Choose your favorite color, shape, and rhythm pattern</li>
                                    <li class="mb-sm">Create a unique pattern by connecting grid cells</li>
                                    <li class="mb-sm">Generate a secure password based on your selections</li>
                                    <li>Copy your new password to use for your accounts</li>
                                </ol>

                                <h4 class="mb-sm">Why Use PassCraft?</h4>
                                <ul style="padding-left: 20px;">
                                    <li class="mb-sm">Creates strong, unique passwords</li>
                                    <li class="mb-sm">Helps you remember passwords using visual cues</li>
                                    <li class="mb-sm">Makes password creation fun and engaging</li>
                                    <li>Provides visual feedback on password strength</li>
                                </ul>
                            </div>

                            <div class="features-grid">
                                <div class="feature-card">
                                    <div class="feature-icon">ðŸ”’</div>
                                    <h3 class="mb-sm">Secure</h3>
                                    <p>Creates strong, unpredictable passwords that are hard to crack</p>
                                </div>
                                <div class="feature-card">
                                    <div class="feature-icon">ðŸ§ </div>
                                    <h3 class="mb-sm">Memorable</h3>
                                    <p>Uses your personal cues to make passwords easier to remember</p>
                                </div>
                                <div class="feature-card">
                                    <div class="feature-icon">âœ¨</div>
                                    <h3 class="mb-sm">Interactive</h3>
                                    <p>Makes password creation an engaging, visual experience</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- App Footer -->
        <footer class="app-footer">
            <div class="container">
                <p>PassCraft - Human-Friendly Password Pattern Builder</p>
                <p class="mt-sm">Created with <span class="text-accent">â™¥</span> by PassCraft Team</p>
            </div>
        </footer>
    </div>

    <!-- Main Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            const standardColorPicker = document.getElementById('standard-color-picker');
            const colorPreview = document.getElementById('color-preview');
            const colorPaletteItems = document.querySelectorAll('.color-palette-item');
            const colorHexField = document.getElementById('color-hex-field');
            const colorSliderR = document.getElementById('color-slider-r');
            const colorSliderG = document.getElementById('color-slider-g');
            const colorSliderB = document.getElementById('color-slider-b');
            const colorValueR = document.getElementById('color-value-r');
            const colorValueG = document.getElementById('color-value-g');
            const colorValueB = document.getElementById('color-value-b');
            const shapeOptions = document.querySelectorAll('.shape-option');
            const rhythmSlider = document.getElementById('rhythm-slider');
            const rhythmVisual = document.getElementById('rhythm-visual');
            const patternGrid = document.getElementById('pattern-grid');
            const gridOverlay = document.getElementById('grid-overlay');
            const resetPatternBtn = document.getElementById('reset-pattern');
            const generatePasswordBtn = document.getElementById('generate-password');
            const regeneratePasswordBtn = document.getElementById('regenerate-password');
            const passwordDisplay = document.getElementById('password-display');
            const passwordText = document.getElementById('password-text');
            const copyPasswordBtn = document.getElementById('copy-password');
            const copyTooltip = document.getElementById('copy-tooltip');
            const strengthMeterFill = document.getElementById('strength-meter-fill');
            const strengthText = document.getElementById('strength-text');
            const passwordAnalysis = document.getElementById('password-analysis');
            const notificationsContainer = document.getElementById('notifications');

            // State
            let selectedShape = 'circle';
            let rhythmLevel = 3;
            let favoriteColor = '#6C63FF';
            let patternPath = [];
            let isDrawing = false;
            let lastHoveredCell = null;
            let generatedPassword = '';
            let passwordStrength = 0;

            // Grid setup
            const gridSize = 3;
            const gridItems = [];
            const gridSymbols = [
                'A', 'B', 'C',
                '1', '2', '3',
                '#', '@', '!'
            ];
            const gridColors = [
                'primary', 'secondary', 'accent',
                'secondary', 'accent', 'primary',
                'accent', 'primary', 'secondary'
            ];

            // Initialize the application
            init();

            // Initialize function
            function init() {
                setupTabs();
                setupColorPicker();
                setupShapeSelector();
                setupRhythmSlider();
                createGrid();
                setupEventListeners();
            }

            // Tab functionality
            function setupTabs() {
                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        // Remove active class from all tabs
                        tabs.forEach(t => t.classList.remove('active'));
                        tabContents.forEach(content => content.classList.remove('active'));

                        // Add active class to clicked tab
                        tab.classList.add('active');
                        const tabId = tab.dataset.tab;
                        document.getElementById(`${tabId}-tab`).classList.add('active');

                        // Special handling for preview tab
                        if (tabId === 'preview' && !generatedPassword) {
                            // If no password has been generated, go back to create tab
                            setTimeout(() => {
                                showNotification('Please create a pattern and generate a password first!', 'info');
                                tabs[0].click();
                            }, 100);
                        }
                    });
                });
            }

            // Enhanced Color Picker setup
            function setupColorPicker() {
                // Initial color
                setColorFromHex(favoriteColor);

                // Standard HTML5 color picker
                standardColorPicker.addEventListener('input', (e) => {
                    const color = e.target.value;
                    setColorFromHex(color);
                });

                // Color palette
                colorPaletteItems.forEach(item => {
                    item.addEventListener('click', () => {
                        const color = item.dataset.color;
                        setColorFromHex(color);

                        // Update selected state
                        colorPaletteItems.forEach(i => i.classList.remove('selected'));
                        item.classList.add('selected');
                    });
                });

                // Hex input field
                colorHexField.addEventListener('input', (e) => {
                    let color = e.target.value;

                    // Make sure it starts with #
                    if (!color.startsWith('#')) {
                        color = '#' + color;
                    }

                    // Validate hex format
                    if (/^#[0-9A-F]{6}$/i.test(color)) {
                        setColorFromHex(color);
                    }
                });

                // RGB sliders
                colorSliderR.addEventListener('input', updateColorFromSliders);
                colorSliderG.addEventListener('input', updateColorFromSliders);
                colorSliderB.addEventListener('input', updateColorFromSliders);
            }

            // Set color from hex value
            function setColorFromHex(hexColor) {
                favoriteColor = hexColor;

                // Update UI
                colorPreview.style.backgroundColor = hexColor;
                standardColorPicker.value = hexColor;
                colorHexField.value = hexColor;

                // Update RGB sliders
                const rgb = hexToRgb(hexColor);
                colorSliderR.value = rgb.r;
                colorSliderG.value = rgb.g;
                colorSliderB.value = rgb.b;
                colorValueR.textContent = rgb.r;
                colorValueG.textContent = rgb.g;
                colorValueB.textContent = rgb.b;

                // Update selected palette item or deselect all if not in palette
                let foundInPalette = false;
                colorPaletteItems.forEach(item => {
                    if (item.dataset.color.toLowerCase() === hexColor.toLowerCase()) {
                        item.classList.add('selected');
                        foundInPalette = true;
                    } else {
                        item.classList.remove('selected');
                    }
                });
            }

            // Update color from RGB sliders
            function updateColorFromSliders() {
                const r = parseInt(colorSliderR.value);
                const g = parseInt(colorSliderG.value);
                const b = parseInt(colorSliderB.value);

                colorValueR.textContent = r;
                colorValueG.textContent = g;
                colorValueB.textContent = b;

                const hexColor = rgbToHex(r, g, b);
                favoriteColor = hexColor;

                // Update UI
                colorPreview.style.backgroundColor = hexColor;
                standardColorPicker.value = hexColor;
                colorHexField.value = hexColor;

                // Deselect all palette items
                colorPaletteItems.forEach(item => item.classList.remove('selected'));
            }

            // Convert hex to RGB
            function hexToRgb(hex) {
                // Remove # if present
                hex = hex.replace('#', '');

                // Convert 3-digit hex to 6-digit
                if (hex.length === 3) {
                    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];
                }

                const r = parseInt(hex.substring(0, 2), 16);
                const g = parseInt(hex.substring(2, 4), 16);
                const b = parseInt(hex.substring(4, 6), 16);

                return { r, g, b };
            }

            // Convert RGB to hex
            function rgbToHex(r, g, b) {
                return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
            }

            // Shape selection setup
            function setupShapeSelector() {
                shapeOptions.forEach(option => {
                    option.addEventListener('click', () => {
                        shapeOptions.forEach(opt => opt.classList.remove('selected'));
                        option.classList.add('selected');
                        selectedShape = option.dataset.shape;
                    });
                });
            }

            // Rhythm slider setup
            function setupRhythmSlider() {
                updateRhythmVisual(rhythmLevel);

                rhythmSlider.addEventListener('input', (e) => {
                    rhythmLevel = parseInt(e.target.value);
                    updateRhythmVisual(rhythmLevel);
                });
            }

            // Update rhythm visualization based on level
            function updateRhythmVisual(level) {
                const bars = rhythmVisual.querySelectorAll('.rhythm-bar');
                const baseHeight = 10;
                const stepHeight = 5;

                bars.forEach((bar, index) => {
                    let height;

                    if (index % 2 === 0) {
                        // Odd bars scale with rhythm level
                        height = baseHeight + (level * stepHeight * (index + 1) / bars.length);
                    } else {
                        // Even bars scale inversely with rhythm level
                        height = baseHeight + (level * stepHeight * (bars.length - index) / bars.length);
                    }

                    bar.style.height = `${height}px`;
                });
            }

            // Create the pattern grid
            function createGrid() {
                patternGrid.innerHTML = '';

                for (let i = 0; i < gridSize * gridSize; i++) {
                    const gridItem = document.createElement('div');
                    gridItem.className = `grid-item ${gridColors[i]}`;
                    gridItem.setAttribute('data-index', i);
                    gridItem.setAttribute('data-symbol', gridSymbols[i]);
                    gridItem.textContent = gridSymbols[i];

                    // Add to grid
                    patternGrid.appendChild(gridItem);
                    gridItems.push(gridItem);

                    // Add event listeners for pattern creation
                    gridItem.addEventListener('mousedown', startDrawing);
                    gridItem.addEventListener('mouseup', stopDrawing);
                    gridItem.addEventListener('mouseover', drawPattern);

                    // Touch support
                    gridItem.addEventListener('touchstart', handleTouchStart);
                    gridItem.addEventListener('touchmove', handleTouchMove);
                    gridItem.addEventListener('touchend', handleTouchEnd);
                }
            }

            // Set up event listeners
            function setupEventListeners() {
                // Reset pattern button
                resetPatternBtn.addEventListener('click', resetPattern);

                // Generate password button
                generatePasswordBtn.addEventListener('click', generatePassword);

                // Regenerate password button
                regeneratePasswordBtn.addEventListener('click', () => {
                    tabs[0].click(); // Go back to create tab
                });

                // Copy password button
                copyPasswordBtn.addEventListener('click', copyToClipboard);

                // Window resize event
                window.addEventListener('resize', debounce(() => {
                    // Refresh connection lines on resize
                    refreshConnectionLines();
                }, 200));
            }

            // Handle pattern drawing start
            function startDrawing(e) {
                if (e.type === 'mousedown' && e.button !== 0) return; // Only left click

                e.preventDefault();
                isDrawing = true;

                // Clear previous pattern
                resetPattern();

                // Add this cell to the pattern
                const index = parseInt(this.dataset.index);
                addToPattern(index);
            }

            // Handle pattern drawing during mouse movement
            function drawPattern(e) {
                if (!isDrawing) return;

                const index = parseInt(this.dataset.index);

                // If this cell is not already in the pattern, add it
                if (!patternPath.includes(index)) {
                    addToPattern(index);
                }
            }

            // Handle pattern drawing stop
            function stopDrawing() {
                isDrawing = false;
                lastHoveredCell = null;

                // If pattern is too short, alert user
                if (patternPath.length < 4) {
                    showNotification('Please create a longer pattern (at least 4 points)', 'warning');
                }
            }

            // Touch event handlers
            function handleTouchStart(e) {
                e.preventDefault();
                const touch = e.touches[0];
                const element = document.elementFromPoint(touch.clientX, touch.clientY);

                if (element && element.classList.contains('grid-item')) {
                    resetPattern();
                    isDrawing = true;
                    lastHoveredCell = element;
                    const index = parseInt(element.dataset.index);
                    addToPattern(index);
                }
            }

            function handleTouchMove(e) {
                if (!isDrawing) return;

                e.preventDefault();
                const touch = e.touches[0];
                const element = document.elementFromPoint(touch.clientX, touch.clientY);

                if (element && element.classList.contains('grid-item') && element !== lastHoveredCell) {
                    lastHoveredCell = element;
                    const index = parseInt(element.dataset.index);

                    // If this cell is not already in the pattern, add it
                    if (!patternPath.includes(index)) {
                        addToPattern(index);
                    }
                }
            }

            function handleTouchEnd() {
                stopDrawing();
            }

            // Add a cell to the pattern
            function addToPattern(index) {
                patternPath.push(index);

                // Select the grid item
                gridItems[index].classList.add('selected');

                // Create connection line if this is not the first point
                if (patternPath.length > 1) {
                    createConnectionLine(
                        patternPath[patternPath.length - 2],
                        patternPath[patternPath.length - 1]
                    );
                }
            }

            // Create a visual connection line between two cells
            function createConnectionLine(fromIndex, toIndex) {
                const fromCell = gridItems[fromIndex];
                const toCell = gridItems[toIndex];

                // Get positions
                const fromRect = fromCell.getBoundingClientRect();
                const toRect = toCell.getBoundingClientRect();
                const gridRect = patternGrid.getBoundingClientRect();

                // Calculate center points relative to grid
                const fromX = fromRect.left + fromRect.width / 2 - gridRect.left;
                const fromY = fromRect.top + fromRect.height / 2 - gridRect.top;
                const toX = toRect.left + toRect.width / 2 - gridRect.left;
                const toY = toRect.top + toRect.height / 2 - gridRect.top;

                // Calculate line length and angle
                const length = Math.sqrt(Math.pow(toX - fromX, 2) + Math.pow(toY - fromY, 2));
                const angle = Math.atan2(toY - fromY, toX - fromX) * 180 / Math.PI;

                // Create line element
                const line = document.createElement('div');
                line.className = 'path-line';
                line.style.width = `${length}px`;
                line.style.left = `${fromX}px`;
                line.style.top = `${fromY}px`;
                line.style.transform = `rotate(${angle}deg)`;

                // Add to overlay
                gridOverlay.appendChild(line);
            }

            // Refresh all connection lines (useful after window resize)
            function refreshConnectionLines() {
                // Clear existing lines
                gridOverlay.innerHTML = '';

                // Recreate lines
                if (patternPath.length > 1) {
                    for (let i = 1; i < patternPath.length; i++) {
                        createConnectionLine(patternPath[i - 1], patternPath[i]);
                    }
                }
            }

            // Reset the pattern
            function resetPattern() {
                patternPath = [];
                gridItems.forEach(item => item.classList.remove('selected'));
                gridOverlay.innerHTML = '';
            }

            // Generate password based on user inputs
            function generatePassword() {
                if (patternPath.length < 4) {
                    showNotification('Please create a pattern with at least 4 points', 'warning');
                    return;
                }

                // Collect symbols from pattern
                const patternSymbols = patternPath.map(index => gridItems[index].dataset.symbol);

                // Generate password
                generatedPassword = generatePasswordFromPattern(
                    favoriteColor,
                    selectedShape,
                    rhythmLevel,
                    patternSymbols
                );

                // Calculate password strength
                passwordStrength = calculatePasswordStrength(
                    generatedPassword,
                    patternPath.length,
                    rhythmLevel
                );

                // Update UI
                passwordText.textContent = generatedPassword;
                updateStrengthMeter(passwordStrength);
                updatePasswordAnalysis(generatedPassword);

                // Show success notification and switch to preview tab
                showNotification('Password successfully generated!', 'success');

                // Switch to preview tab
                setTimeout(() => {
                    tabs[1].click();
                }, 300);
            }

            // Generate password from user inputs
            function generatePasswordFromPattern(color, shape, rhythm, symbols) {
                const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
                const specialChars = '!@#$%^&*_-+=';
                let password = '';

                // Add color-based characters (first 2 chars)
                const colorHex = color.replace('#', '');
                password += chars[parseInt(colorHex.substring(0, 2), 16) % chars.length];
                password += chars[parseInt(colorHex.substring(2, 4), 16) % chars.length].toUpperCase();

                // Add shape-based character (special character)
                switch (shape) {
                    case 'circle': password += '@'; break;
                    case 'square': password += '#'; break;
                    case 'triangle': password += '^'; break;
                    case 'diamond': password += '*'; break;
                    case 'heart': password += '&'; break;
                    case 'star': password += '*'; break;
                    default: password += '@';
                }

                // Add rhythm-based number
                password += rhythm.toString();

                // Add pattern-based characters
                symbols.forEach(symbol => {
                    password += symbol;
                });

                // Ensure we have at least one number if none yet
                if (!/\d/.test(password)) {
                    password += Math.floor(Math.random() * 10);
                }

                // Ensure we have at least one special character if none yet
                if (!/[!@#$%^&*_\-+=]/.test(password)) {
                    password += specialChars.charAt(Math.floor(Math.random() * specialChars.length));
                }

                return password;
            }

            // Calculate password strength
            function calculatePasswordStrength(password, patternLength, rhythm) {
                let strength = 0;

                // Length points (max 30)
                strength += Math.min(password.length * 3, 30);

                // Character variety (max 40)
                if (/[a-z]/.test(password)) strength += 10;
                if (/[A-Z]/.test(password)) strength += 10;
                if (/[0-9]/.test(password)) strength += 10;
                if (/[^a-zA-Z0-9]/.test(password)) strength += 10;

                // Pattern complexity (max 20)
                strength += Math.min(patternLength * 2, 20);

                // Rhythm factor (max 10)
                strength += rhythm * 2;

                // Return capped at 100
                return Math.min(strength, 100);
            }

            // Update the strength meter
            function updateStrengthMeter(strength) {
                strengthMeterFill.style.width = `${strength}%`;

                let color, text;

                if (strength < 40) {
                    color = 'var(--accent)';
                    text = 'Weak';
                } else if (strength < 70) {
                    color = 'var(--secondary)';
                    text = 'Good';
                } else {
                    color = 'var(--primary)';
                    text = 'Strong';
                }

                strengthMeterFill.style.backgroundColor = color;
                strengthText.textContent = text;
                strengthText.style.color = color;
            }

            // Update password analysis
            function updatePasswordAnalysis(password) {
                const length = password.length;
                const hasLower = /[a-z]/.test(password);
                const hasUpper = /[A-Z]/.test(password);
                const hasNumber = /\d/.test(password);
                const hasSpecial = /[^a-zA-Z0-9]/.test(password);

                let analysis = `
                    <div class="mb-md">
                        <h4 class="mb-sm">Password Statistics</h4>
                        <ul style="padding-left: 20px;">
                            <li class="mb-sm">Length: ${length} characters</li>
                            <li class="mb-sm">Contains lowercase letters: ${hasLower ? 'âœ“' : 'âœ—'}</li>
                            <li class="mb-sm">Contains uppercase letters: ${hasUpper ? 'âœ“' : 'âœ—'}</li>
                            <li class="mb-sm">Contains numbers: ${hasNumber ? 'âœ“' : 'âœ—'}</li>
                            <li>Contains special characters: ${hasSpecial ? 'âœ“' : 'âœ—'}</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="mb-sm">Password Quality</h4>
                        <p class="mb-sm">Strength: <span style="color: ${strengthMeterFill.style.backgroundColor}">${strengthText.textContent}</span></p>
                        <p>${getStrengthDescription(passwordStrength)}</p>
                    </div>
                `;

                passwordAnalysis.innerHTML = analysis;
            }

            // Get description based on password strength
            function getStrengthDescription(strength) {
                if (strength < 40) {
                    return 'This password provides minimal security. Consider adding more complexity.';
                } else if (strength < 70) {
                    return 'This password provides good security for most accounts.';
                } else {
                    return 'This password provides excellent security. It would be very difficult to crack.';
                }
            }

            // Copy password to clipboard
            function copyToClipboard() {
                if (!generatedPassword) {
                    showNotification('No password to copy!', 'warning');
                    return;
                }

                navigator.clipboard.writeText(generatedPassword)
                    .then(() => {
                        copyTooltip.classList.add('show');
                        setTimeout(() => {
                            copyTooltip.classList.remove('show');
                        }, 2000);

                        showNotification('Password copied to clipboard!', 'success');
                    })
                    .catch(() => {
                        showNotification('Failed to copy password', 'error');
                    });
            }

            // Show notification
            function showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = 'notification';

                let icon = '';
                switch (type) {
                    case 'success':
                        icon = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>';
                        break;
                    case 'warning':
                        icon = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>';
                        break;
                    case 'error':
                        icon = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>';
                        break;
                    default:
                        icon = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>';
                }

                notification.innerHTML = `
                    <div class="notification-icon">${icon}</div>
                    <div class="notification-content">${message}</div>
                `;

                // Style based on type
                switch (type) {
                    case 'success':
                        notification.style.borderLeftColor = 'var(--primary)';
                        break;
                    case 'warning':
                        notification.style.borderLeftColor = 'var(--secondary)';
                        break;
                    case 'error':
                        notification.style.borderLeftColor = 'var(--accent)';
                        break;
                }

                notificationsContainer.appendChild(notification);

                // Automatically remove after 4 seconds
                setTimeout(() => {
                    notification.style.opacity = '0';
                    notification.style.transform = 'translateX(120%)';
                    setTimeout(() => {
                        notification.remove();
                    }, 300);
                }, 4000);
            }

            // Utility function: Debounce
            function debounce(func, wait) {
                let timeout;
                return function(...args) {
                    clearTimeout(timeout);
                    timeout = setTimeout(() => func.apply(this, args), wait);
                };
            }
        });
    </script>
</body>
</html>